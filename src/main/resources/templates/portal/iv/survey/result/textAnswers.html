<!DOCTYPE html>
<html
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{portal/layout/iv/hq/parts/popup/index}">
<th:block layout:fragment="content">
	
	<div class="block-header" >
		<div class="block-title">[[#{HQP_L_SURVEY_VIEW_RESULT}]] ([[#{HQP_L_SUBJECTIVE_QUESTION}]])</div>
		<div class="block-button-area">
			<button id="BTN_back" type="button" th:text="#{HQP_B_BACK}" onclick="history.back();"></button>
		</div>
	</div>	
	
	<div class="condition-area">
		<table class="condition table-fixed">
			<tr>
				<th style="width:20%;"><span th:text="#{HQP_L_SURVEY_TITLE}"></span></th>
				<td><span th:text="${survey?.title}" /></td>
			</tr>
			<tr th:style="${survey?.description == null ? 'display:none' : ''}">
				<th><span th:text="#{HQP_L_PURPOSE}"></span></th>
				<td><span th:text="${survey?.description}"/></td>
			</tr>
			<tr th:style="${#lists.isEmpty(survey?.uploadFileLists) ? 'display:none' : ''}">
				<th><span th:text="#{HQP_L_ATTACHMENT}"></span></th>
				<td>
					<span th:each="uploadFileList : ${survey?.uploadFileLists}">
					<a class="link" th:text="${uploadFileList.fullOriginName}" th:downloadKey="${uploadFileList.downloadKey}"></a>
					(<span th:text="${uploadFileList.displayFileSize}"></span>)
					</span>
				</td>
			</tr>
		</table>
	<br/><br/>
	<table class="condition">
		<tbody>
			<tr>
				<td>
					<table>
						<tr>
							<td>
								<span th:text="${rowIndex}+'.'"></span>
								<span class="warn" th:if="${(textAnswers[0]?.fgMandatory == T(org.jwebppy.portal.iv.common.IvCommonVo).YES)}" th:text="'['+#{HQP_L_SELECT_ESSENTIAL}+']'"></span>
								<span class="warn" th:unless="${(textAnswers[0]?.fgMandatory == T(org.jwebppy.portal.iv.common.IvCommonVo).YES)}" th:text="'['+#{HQP_L_SELECT_POTENTIAL}+']'"></span>
								<span th:text="${textAnswers[0]?.title}"></span>
							</td>
						</tr>
					</table>
					<table >
						<tr th:each="answer, index : ${textAnswers}">
							<td>
								<span>[[${index.count}]].</span>
								<span>[[${answer.answer}]]</span>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</tbody>
	</table>
	</div>
	
<script>
$(function(){
	ProgressBar.hide();
	
	$("a[downloadKey]").on("click", function() {					
		PortalFileDownload.download($(this).attr("downloadKey"));
	});	
});
</script>
</th:block>	